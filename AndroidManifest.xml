<?xml version="1.0" encoding="utf-8"?>
<!-- 
    Copyright (C) 2009 University of Washington

    Licensed under the Apache License, Version 2.0 (the "License"); you may not
    use this file except in compliance with the License. You may obtain a copy of
    the License at http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
    License for the specific language governing permissions and limitations under 
    the License.
-->
<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:versionCode="10" android:versionName="1.1.6-tip-0.9.1" package="com.radicaldynamic.groupinform">
    <application android:theme="@style/GroupInformTheme" android:icon="@drawable/ic_group_complete" android:name=".application.Collect" android:debuggable="true" android:label="@string/app_name">
        <activity android:label="@string/tf_inform" android:configChanges="orientation" android:name=".activities.LauncherActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        
        <activity android:name=".activities.FormEntryActivity" android:label="@string/app_name" android:windowSoftInputMode="adjustResize" android:configChanges="orientation"> 
            <!-- The intent filter below is a bit of a hack until we create a content provider for forms -->
            <intent-filter>
                <action android:name="com.radicaldynamic.groupinform.action.FormEntry" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            
            <!-- This is what we should be doing once we have the content provider working -->
            <intent-filter>
    	       <action android:name="android.intent.action.VIEW" />
    	       <action android:name="android.intent.action.EDIT" />
    	       <category android:name="android.intent.category.DEFAULT" />
    	       <!-- Need to add something like... -->
    	       <!-- <data android:mimeType="vnd.android.cursor.item/vnd.google.note" /> -->
    	       <!-- ...here once we make a contentProvider for forms -->
            </intent-filter>   
        </activity>
        
        <activity android:name=".activities.AccountDeviceActivity" android:label="@string/app_name" android:screenOrientation="portrait" android:windowSoftInputMode="stateHidden" />
        <activity android:name=".activities.AccountDeviceList" android:label="@string/app_name" />
        <activity android:name=".activities.AccountFolderActivity" android:label="@string/app_name" android:screenOrientation="portrait" android:windowSoftInputMode="stateHidden" />
        <activity android:name=".activities.AccountFolderList" android:label="@string/app_name" />
        <activity android:name=".activities.AccountFolderReplicationList" android:label="@string/app_name" />
        <activity android:name=".activities.BrowserActivity" android:label="@string/app_name" />
        <activity android:name=".activities.ClientInformationActivity" android:label="@string/app_name" android:screenOrientation="portrait" />
        <activity android:name=".activities.ClientRegistrationActivity" android:label="@string/app_name" android:noHistory="true" android:screenOrientation="portrait" />    
        <activity android:name=".activities.ManageFormsTabs" android:label="@string/app_name" />
        <activity android:name=".activities.FormBuilderFieldList" android:label="@string/app_name" />
        <activity android:name=".activities.FormBuilderFieldEditor" android:label="@string/app_name" android:windowSoftInputMode="stateHidden" />
        <activity android:name=".activities.FormBuilderInstanceList" android:label="@string/app_name" />
        <activity android:name=".activities.FormBuilderSelectItemList" android:label="@string/app_name" android:screenOrientation="portrait" />
        <activity android:name=".activities.FormDownloadList" android:label="@string/app_name" />         
        <activity android:name=".activities.FormHierarchyList" android:label="@string/app_name" />
        <activity android:name=".activities.InstanceUploaderList" android:label="@string/app_name" />
        <activity android:name=".activities.InstanceUploaderActivity" android:label="@string/app_name" />
        <activity android:name=".activities.GeoPointActivity" android:label="@string/app_name" />
        <activity android:name=".activities.MyFormsList" android:label="@string/app_name" />
        <activity android:name=".preferences.ServerPreferences" android:label="@string/app_name" />
        <!-- <activity android:name=".preferences.GeneralPreferences" android:label="@string/app_name" /> -->        
        <service android:name=".services.DatabaseService" android:label="@string/app_name" />
        <service android:name=".services.InformOnlineService" android:label="@string/app_name" />
        
        <!-- CouchDB -->
        <activity android:name="com.couchone.couchdb.CouchFutonActivity"
                  android:configChanges="keyboardHidden|orientation"
                  android:label="@string/app_name"
                  android:launchMode="singleTask">
        </activity>

        <activity android:name="com.couchone.couchdb.CouchInstallActivity"
                  android:configChanges="keyboardHidden|orientation">
        </activity>
    
        <service android:name="com.couchone.couchdb.CouchService" android:exported="true" android:enabled="true" android:process=":remote">
            <intent-filter>
                <action android:name="com.couchone.libcouch.ICouchService"></action>
            </intent-filter>
        </service>        
    </application>
        
    <uses-permission xmlns:android="http://schemas.android.com/apk/res/android" android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission xmlns:android="http://schemas.android.com/apk/res/android" android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission xmlns:android="http://schemas.android.com/apk/res/android" android:name="android.permission.ACCESS_SURFACE_FLINGER" />
    <uses-permission xmlns:android="http://schemas.android.com/apk/res/android" android:name="android.permission.INTERNET" />
    <uses-permission xmlns:android="http://schemas.android.com/apk/res/android" android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission xmlns:android="http://schemas.android.com/apk/res/android" android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    
    <supports-screens android:largeScreens="true" android:normalScreens="true" android:anyDensity="true" />
    
    <uses-sdk android:minSdkVersion="8" />
</manifest>
