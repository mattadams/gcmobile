<?xml version="1.0" encoding="utf-8"?>
<!-- 
    Copyright (C) 2009 University of Washington

    Licensed under the Apache License, Version 2.0 (the "License"); you may not
    use this file except in compliance with the License. You may obtain a copy of
    the License at http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
    License for the specific language governing permissions and limitations under 
    the License.
-->
<manifest 
    xmlns:android="http://schemas.android.com/apk/res/android" 
    android:versionCode="1" 
    android:versionName="1.1.6-tip-1.0.0" 
    package="com.radicaldynamic.groupinform">
  <application 
      android:debuggable="true" 
      android:icon="@drawable/ic_group_complete" 
      android:label="@string/app_name"
      android:name=".application.Collect" 
      android:theme="@style/GroupInformTheme">
    <activity 
        android:configChanges="orientation" 
        android:label="@string/tf_inform" 
        android:name=".activities.LauncherActivity">
      <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.LAUNCHER" />
      </intent-filter>
    </activity>
    <activity 
        android:configChanges="orientation"
        android:label="@string/app_name" 
        android:name=".activities.FormEntryActivity" 
        android:windowSoftInputMode="adjustResize"> 
      <!-- The intent filter below is a bit of a hack until we create a content provider for forms -->
      <intent-filter>
        <action android:name="com.radicaldynamic.groupinform.action.FormEntry" />
        <category android:name="android.intent.category.DEFAULT" />
      </intent-filter>
      <!-- This is what we should be doing once we have the content provider working -->
      <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <action android:name="android.intent.action.EDIT" />
        <category android:name="android.intent.category.DEFAULT" />
        <!-- Need to add something like... -->
        <!-- <data android:mimeType="vnd.android.cursor.item/vnd.google.note" /> -->
        <!-- ...here once we make a contentProvider for forms -->
      </intent-filter>   
    </activity>
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.AccountDeviceActivity" 
        android:screenOrientation="portrait" 
        android:windowSoftInputMode="stateHidden" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.AccountDeviceList" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.AccountFolderActivity" 
        android:screenOrientation="portrait" 
        android:windowSoftInputMode="stateHidden" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.AccountFolderList" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.AccountFolderReplicationList" />
    <activity 
        android:name=".activities.BrowserActivity" 
        android:label="@string/app_name" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.ClientInformationActivity" 
        android:screenOrientation="portrait" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.ClientRegistrationActivity" 
        android:noHistory="true" 
        android:screenOrientation="portrait" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.FormBuilderFieldList" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.FormBuilderFieldEditor" 
        android:windowSoftInputMode="stateHidden" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.FormBuilderInstanceList" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.FormBuilderSelectItemList" 
        android:screenOrientation="portrait" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.FormDownloadList" />         
    <activity 
        android:label="@string/app_name"
        android:name=".activities.FormHierarchyList" />
    <activity 
        android:label="@string/app_name" 
        android:name=".activities.InstanceUploaderList" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.InstanceUploaderActivity" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.GeoPointActivity" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.MyFormsList" />
    <activity 
        android:label="@string/app_name"
        android:name=".activities.ODKActivityTab" />
    <activity 
        android:label="@string/app_name"
        android:name=".preferences.ServerPreferences" />
    <service 
        android:label="@string/app_name"
        android:name=".services.DatabaseService" />
    <service 
        android:label="@string/app_name"
        android:name=".services.InformOnlineService" />
    
    <!-- CouchDB -->
    <activity 
        android:configChanges="keyboardHidden|orientation"
        android:label="@string/app_name"
        android:launchMode="singleTask"
        android:name="com.couchone.couchdb.CouchFutonActivity" />
    <activity 
        android:configChanges="keyboardHidden|orientation"
        android:name="com.couchone.couchdb.CouchInstallActivity" />
    <service 
        android:enabled="true" 
        android:exported="true" 
        android:name="com.couchone.couchdb.CouchService" 
        android:process=":remote">
      <intent-filter>
        <action android:name="com.couchone.libcouch.ICouchService" />
      </intent-filter>
    </service>        
  </application>
  
  <uses-permission 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:name="android.permission.ACCESS_FINE_LOCATION" />
  <uses-permission 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:name="android.permission.ACCESS_NETWORK_STATE" />
  <uses-permission 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:name="android.permission.ACCESS_SURFACE_FLINGER" />
  <uses-permission 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:name="android.permission.INTERNET" />
  <uses-permission 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:name="android.permission.READ_PHONE_STATE" />
  <uses-permission 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    
  <supports-screens 
      android:anyDensity="true"
      android:largeScreens="true" 
      android:normalScreens="true" 
      android:resizeable="true"
      android:smallScreens="true" />
   
  <!-- Not available until 2.3/SDK9 -->     
  <!--android:xlargeScreens="true" -->
    
  <uses-sdk 
      android:minSdkVersion="8" 
      android:targetSdkVersion="8" />
</manifest>
